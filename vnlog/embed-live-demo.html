<!DOCTYPE html>
<html lang="ko">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>VNLog ì„ë² ë””ë“œ - ì‹¤ì œ ë™ì‘ ì˜ˆì œ</title>
  <style>
    * {
      margin: 0;
      padding: 0;
      box-sizing: border-box;
    }

    body {
      font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', sans-serif;
      background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
      padding: 20px;
      min-height: 100vh;
    }

    .container {
      max-width: 1400px;
      margin: 0 auto;
    }

    header {
      text-align: center;
      color: white;
      margin-bottom: 40px;
      padding: 40px 20px;
    }

    header h1 {
      font-size: 42px;
      margin-bottom: 12px;
      text-shadow: 0 2px 10px rgba(0, 0, 0, 0.2);
    }

    header p {
      font-size: 18px;
      opacity: 0.95;
    }

    .demo-section {
      background: white;
      border-radius: 16px;
      padding: 32px;
      margin-bottom: 32px;
      box-shadow: 0 10px 40px rgba(0, 0, 0, 0.2);
    }

    .demo-section h2 {
      font-size: 26px;
      margin-bottom: 20px;
      color: #333;
      display: flex;
      align-items: center;
      gap: 12px;
    }

    .demo-section p {
      color: #666;
      line-height: 1.6;
      margin-bottom: 24px;
    }

    .demo-container {
      margin-top: 24px;
    }

    .button-group {
      display: flex;
      gap: 12px;
      margin-bottom: 20px;
    }

    .btn {
      padding: 12px 24px;
      background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
      color: white;
      border: none;
      border-radius: 8px;
      font-size: 15px;
      font-weight: 600;
      cursor: pointer;
      transition: all 0.2s;
    }

    .btn:hover {
      transform: translateY(-2px);
      box-shadow: 0 6px 20px rgba(102, 126, 234, 0.4);
    }

    .btn-secondary {
      background: linear-gradient(135deg, #f093fb 0%, #f5576c 100%);
    }

    footer {
      text-align: center;
      color: white;
      margin-top: 60px;
      padding: 20px;
      opacity: 0.9;
    }

    .info-box {
      background: #f0f9ff;
      border-left: 4px solid #0284c7;
      padding: 16px;
      border-radius: 8px;
      margin-bottom: 20px;
    }

    .info-box strong {
      display: block;
      color: #0369a1;
      margin-bottom: 8px;
    }
  </style>
</head>
<body>
  <div class="container">
    <header>
      <h1>ğŸ® VNLog ì„ë² ë””ë“œ ì»´í¬ë„ŒíŠ¸</h1>
      <p>ì‹¤ì œë¡œ ë™ì‘í•˜ëŠ” í”Œë ˆì´ì–´ & ì—ë””í„° ë°ëª¨</p>
    </header>

    <!-- í”Œë ˆì´ì–´ ë°ëª¨ -->
    <div class="demo-section">
      <h2>â–¶ï¸ í”Œë ˆì´ì–´ ëª¨ë“œ</h2>
      <p>ì´ë¯¸ íŒŒì‹±ëœ JSON ë°ì´í„°ë¥¼ ë¹„ì£¼ì–¼ ë…¸ë²¨ í˜•ì‹ìœ¼ë¡œ ì¬ìƒí•©ë‹ˆë‹¤.</p>
      
      <div class="info-box">
        <strong>ğŸ’¡ ê¸°ëŠ¥:</strong>
        ìë™ì¬ìƒ, íƒ€ì´í•‘ íš¨ê³¼, ì´ì „/ë‹¤ìŒ ìŠ¤í… ë„¤ë¹„ê²Œì´ì…˜, ì§„í–‰ë¥  í‘œì‹œ
      </div>

      <div class="button-group">
        <button class="btn" onclick="loadSampleData()">ğŸ“„ ìƒ˜í”Œ ë°ì´í„° ë¡œë“œ</button>
        <button class="btn btn-secondary" onclick="clearPlayer()">ğŸ—‘ï¸ ì´ˆê¸°í™”</button>
      </div>

      <div class="demo-container">
        <div id="player-demo"></div>
      </div>
    </div>

    <!-- ì—ë””í„° ë°ëª¨ -->
    <div class="demo-section">
      <h2>âœï¸ ì—ë””í„° ëª¨ë“œ</h2>
      <p>íŒŒì¼ì„ ë¶ˆëŸ¬ì™€ì„œ í¸ì§‘í•˜ê³ , ë¯¸ë¦¬ë³´ê¸°í•˜ê³ , JSONìœ¼ë¡œ ë‚´ë³´ë‚¼ ìˆ˜ ìˆìŠµë‹ˆë‹¤.</p>
      
      <div class="info-box">
        <strong>ğŸ’¡ ê¸°ëŠ¥:</strong>
        HTML/JSON íŒŒì¼ ë¶ˆëŸ¬ì˜¤ê¸°, ìŠ¤í… ëª©ë¡ í™•ì¸, ì”¬/ìºë¦­í„° ì •ë³´, í”Œë ˆì´ì–´ ë¯¸ë¦¬ë³´ê¸°, JSON ë‚´ë³´ë‚´ê¸°
      </div>

      <div class="demo-container">
        <div id="editor-demo"></div>
      </div>
    </div>

    <footer>
      <p><strong>VNLog Player v0.7</strong> - Embedded Components</p>
      <p>Â© 2025 VNLog Project | MIT License</p>
    </footer>
  </div>

  <!-- Vue 3 CDN -->
  <script src="https://unpkg.com/vue@3/dist/vue.global.prod.js"></script>

  <script type="module">
    import { VNLogEmbedPlayer, VNLogEmbedEditor } from './dist/embed/vnlog-embed.es.js'

    const { createApp } = Vue

    // ìƒ˜í”Œ VN ë°ì´í„°
    const sampleVnData = {
      title: "ìƒ˜í”Œ TRPG ë¡œê·¸",
      scenes: [
        {
          id: "scene1",
          name: "í”„ë¡¤ë¡œê·¸",
          steps: [
            {
              id: "step1",
              character: {
                name: "GM",
                color: "#888888",
                avatarUrl: ""
              },
              text: "ì–´ëŠ ì¡°ìš©í•œ ë§ˆì„ì— ëª¨í—˜ê°€ë“¤ì´ ëª¨ì˜€ìŠµë‹ˆë‹¤.",
              effects: {}
            },
            {
              id: "step2",
              character: {
                name: "ì „ì‚¬",
                color: "#ff6b6b",
                avatarUrl: ""
              },
              text: "ì•ˆë…•í•˜ì‹­ë‹ˆê¹Œ. ì €ëŠ” ì „ì‚¬ì…ë‹ˆë‹¤. í˜ìœ¼ë¡œ ëª¨ë“  ê²ƒì„ í•´ê²°í•˜ì£ !",
              effects: {}
            },
            {
              id: "step3",
              character: {
                name: "ë§ˆë²•ì‚¬",
                color: "#4ecdc4",
                avatarUrl: ""
              },
              text: "ë§ˆë²•ì´ì•¼ë§ë¡œ ìµœê³ ì˜ í˜ì´ì§€. ë°˜ê°‘ë„¤, ì „ì‚¬.",
              effects: {}
            },
            {
              id: "step4",
              character: {
                name: "ë„ì ",
                color: "#ffd93d",
                avatarUrl: ""
              },
              text: "í˜¸í˜¸, ê·¸ëŸ¼ ë‚˜ëŠ” ê·¸ë¦¼ì ì†ì—ì„œ ì—¬ëŸ¬ë¶„ì„ ë„ì™€ë“œë¦¬ì£ ~",
              effects: {}
            },
            {
              id: "step5",
              character: {
                name: "GM",
                color: "#888888",
                avatarUrl: ""
              },
              text: "ì„¸ ëª¨í—˜ê°€ëŠ” ë§ˆì„ ê´‘ì¥ì—ì„œ ì˜ë¢°ì„œë¥¼ í™•ì¸í–ˆìŠµë‹ˆë‹¤...",
              effects: {}
            }
          ]
        }
      ],
      characters: {
        "gm": { name: "GM", color: "#888888" },
        "warrior": { name: "ì „ì‚¬", color: "#ff6b6b" },
        "mage": { name: "ë§ˆë²•ì‚¬", color: "#4ecdc4" },
        "rogue": { name: "ë„ì ", color: "#ffd93d" }
      },
      handouts: []
    }

    // í”Œë ˆì´ì–´ ì•±
    let playerApp = null

    window.loadSampleData = function() {
      if (playerApp) {
        playerApp.unmount()
      }

      playerApp = createApp({
        template: '<VNLogEmbedPlayer :vn-data="vnData" />',
        data() {
          return {
            vnData: sampleVnData
          }
        }
      })

      playerApp.component('VNLogEmbedPlayer', VNLogEmbedPlayer)
      playerApp.mount('#player-demo')
    }

    window.clearPlayer = function() {
      if (playerApp) {
        playerApp.unmount()
        playerApp = null
        document.getElementById('player-demo').innerHTML = ''
      }
    }

    // ì—ë””í„° ì•± (ìë™ ë§ˆìš´íŠ¸)
    const editorApp = createApp({
      template: '<VNLogEmbedEditor />'
    })

    editorApp.component('VNLogEmbedEditor', VNLogEmbedEditor)
    editorApp.mount('#editor-demo')

    // í˜ì´ì§€ ë¡œë“œ ì‹œ í”Œë ˆì´ì–´ ìë™ ë¡œë“œ
    window.addEventListener('load', () => {
      loadSampleData()
    })
  </script>

  <script>
    // ë¹Œë“œëœ íŒŒì¼ì´ ì—†ëŠ” ê²½ìš° í´ë°±
    window.addEventListener('error', (e) => {
      if (e.message.includes('Failed to fetch')) {
        document.getElementById('player-demo').innerHTML = 
          '<div style="padding: 40px; text-align: center; background: #fee; border: 2px solid #f88; border-radius: 8px;">' +
          '<p style="color: #c00; font-weight: 600; margin-bottom: 8px;">âš ï¸ ë¹Œë“œëœ íŒŒì¼ì„ ì°¾ì„ ìˆ˜ ì—†ìŠµë‹ˆë‹¤</p>' +
          '<p style="color: #666; font-size: 14px;">ë¨¼ì € <code>npm run build:embed</code>ë¥¼ ì‹¤í–‰í•˜ì„¸ìš”.</p>' +
          '</div>'
        
        document.getElementById('editor-demo').innerHTML = 
          '<div style="padding: 40px; text-align: center; background: #fee; border: 2px solid #f88; border-radius: 8px;">' +
          '<p style="color: #c00; font-weight: 600; margin-bottom: 8px;">âš ï¸ ë¹Œë“œëœ íŒŒì¼ì„ ì°¾ì„ ìˆ˜ ì—†ìŠµë‹ˆë‹¤</p>' +
          '<p style="color: #666; font-size: 14px;">ë¨¼ì € <code>npm run build:embed</code>ë¥¼ ì‹¤í–‰í•˜ì„¸ìš”.</p>' +
          '</div>'
      }
    }, true)
  </script>
</body>
</html>
