<!-- // Cache_Text 0.6 1613327422
1613327422 
-->
<div id="aline-1"></div>
<div class="section"><a id='sect-1'></a><div class='sectionEdit' style='float:right;'><span class='sep'>[</span><span><a href='/mercenarys/wiki.php/HelpOnInstallation/SetGid?action=edit&amp;section=1'><span>edit</span></a></span><span class='sep'>]</span></div>
<h2 id="line-1"><a id='s-1'></a>왜 setgid를 쓰나 ? <a class='perma' href='#s-1'>¶</a></h2><div id="sc-1">
<div id="aline-2">보안상의 이유로 웹서버는 php 스크립트를 <code>nobody, www, apache</code> 혹은 <code>httpd</code>같은 특별히 제한된 계정으로 실행하게 됩니다. 이러한 이유로 <a href='/mercenarys/wiki.php/%EB%AA%A8%EB%8B%88%EC%9C%84%ED%82%A4'>모니위키</a><tt class='sister'><a id='rsister1'></a><a href='#sister1'>&#x203a;1</a></tt> 스크립트가 생성하게 되는 여러 파일 혹은 디렉토리는 이러한 특별한 계정의 소유가 되며 진짜 사용자가 소유하지 못하게 되는 일이 발생하고 어떤 경우는 이렇게 만들어진 파일을 읽을수도 지울 수도 없게 됩니다.<span class='line-anchor' id='line-2'></span><br />
</div>
<br />
<div id="aline-4">이런 경우를 막기 위해서 <code>chmod 2777</code> 대신에 <code>chmod 777</code>을 하는 경우도 있으나, 이로서 문제가 모두 해결되지는 않습니다.<span class='line-anchor' id='line-4'></span><br />
</div>
<br />
<div id="aline-6">이러한 것을 방지하기 위해서 <a href='/mercenarys/wiki.php/%EB%AA%A8%EB%8B%88%EC%9C%84%ED%82%A4' >모니위키</a><tt class='sister'><a href='#sister1'>&#x203a;1</a></tt>가 특별한 파일을 생성하게 되는 몇몇 디렉토리에 대하여 그룹 아이디로 퍼미션을 가지게 할 수 있습니다. 이렇게 Setgid를 사용하도록 그룹 퍼미션을 주게되면 wiki.php에 의해 새롭게 만들어지는 모든 파일은 진짜 사용자의 그룹아이디와 같게 되며, 그룹 아이디가 가지는 퍼미션을 진짜 사용자도 누릴 수 있게되어 읽거나 고치거나 지울 수 있게 됩니다.<span class='line-anchor' id='line-6'></span><br />
</div>
<br />
<div id="aline-8">Setgid 퍼미션을 작동시키려면 간단히 "<code>chmod 2777 <em>dir</em></code> 명령을 내리면 되는데, 모니위키가 여러 파일들을 만들게되는 디렉토리에 대해 이 명령을 내려주면 됩니다. 모니위키를 최초 설치하는 과정에서 setgid를 사용하려면 우선 모니위키 최상위 디렉토리를 먼저 <code>chmod 2777</code>을 해 줍니다. 아마 wiki.php가 들어있는 디렉토리가 될것입니다.<span class='line-anchor' id='line-8'></span><br />
</div>
<br />
<div id="aline-10">그런 다음 monisetup.php를 웹상에서 실행시키면 monisetup.php는 필요한 여러 디렉토리를 만들게 되며 이 디렉토리들은 setgid에 적용을 받게 되고, 이렇게 최초 setgid 설정을 마친 후에는 최상위 디렉토리의 퍼미션을 원래의 퍼미션으로 되돌려야 합니다. (보통 <code>chmod 755</code>로)<span class='line-anchor' id='line-10'></span><br />
</div>
<br />
<div id="aline-12"><img src='/mercenarys/imgs/smile/alert.png' style='border:0' class='smiley' alt='/!\' title='/!\' /> 모니위키는 config.sh/monisetup.php 설치 스크립트를 통해 setgid를 최초 설치할 때 부터 지원하고 있습니다.<span class='line-anchor' id='line-12'></span><br />
</div>
<br />
<div id="aline-14">Please see <a class='externalLink'  href='http://www.pmichaud.com/wiki/PmWiki/ErrorMessages' >http://www.pmichaud.com/wiki/PmWiki/ErrorMessages</a><span class='line-anchor' id='line-14'></span><br />
</div>
<div class='separator'><hr /></div><span class='line-anchor' id='line-15'></span>
<div id="aline-16"><a href='/mercenarys/wiki.php/HelpOnInstallation' >HelpOnInstallation</a><span class='line-anchor' id='line-16'></span><br />
</div>
</div>
</div>
<div id='wikiSister'>
<div class='separator'><tt class='foot'>----</tt></div>
Sister Sites Index<br />
<ul><li><tt class='foot'><a id='sister1'></a><a href='#rsister1'>1&#x203a;</a></tt> <a class="interwiki" href='http://moniwiki.kldp.net/wiki.php/MoniWiki' ><img class="interwiki" alt="MoniWiki:" src='/mercenarys/imgs//interwiki/moniwiki-16.png' style='border:0' height='16' width='16' title='MoniWiki:' /></a><a href='http://moniwiki.kldp.net/wiki.php/MoniWiki'  title='MoniWiki:MoniWiki'>MoniWiki</a> </li></ul></div>
